# Bortus数据管理平台

## 一、项目背景  

随着传统企业信息化的不断推进，大多数企业已经具备了完善的管理软件。而对于数据价值往往还处于数据大屏
这一阶段，对于数据的挖掘也仅能采用简单的数据库检索分析满足最基本的报表需求。其中制造企业对于数据的
机密要求，阻碍了企业利用云大数据的能力，而私有化又迫于Hadoop高昂的私有化方案以及运维成本劝退。  

随着近些年物联网的大势所趋，企业本身掌握的数据日益激增。企业自知数据具备价值，不惜成本进行存储以及
备份，而数据本身则会随着的时间推移不断贬值。为此我们重新定义了一套能够兼容各类企业软件以及物联网平
台的数据分析平台。  

> 命名含义：Bortus一词来自一部低成本的科幻美剧《奥维尔号》，该电视剧致敬了《星际迷航》。虽然是一部
> 低成本的科幻片，但是其本身的质量、故事和特效依然保持很高。  

## 二、生态共建  

本平台将结合市面常用的各类企业管理软件的数据库设计模型内置完整的解决方案库，用户通过直接下载并激活即
可无需任何额外的配置就可以实现特定品牌系统的大屏需求。即自动下达分析任务、配置大屏。  

企业或开发者可上传自己的解决方案至解决方案库中，所有使用本平台的用户可根据上传者的版权策略进行下载使
用，实现生态共建。

## 三、技术特点  

#### 1. 多数据库/平台兼容  
   首先企业内部存在大量现有的系统，有自研以及采购的部分。为此我们参考了阿里云开源方案DataX设计思路，并
   在此基础上进行了删减和优化，以满足主流数据库的定时同步与实时同步。  
   而针对物联网数据同步，不仅仅可以采用以上基于数据库的同步方式，如平台开放了基于RabbitMQ、Kafka等消
   息中间件的订阅方式均可支持。上述是针对企业自研/私有化的物联网平台，如企业客户使用的是阿里云、华为
   云与腾讯云的公有云平台，可以直接使用OpenApi进行快速接入，无需额外对接成本。  

#### 2. 灵活扩缩容  
   本平台全部兼容基于Kubernetes的灵活扩缩容方案，即使是私有部署，依然可以降低企业30%的服务器成本。如企
   业混合使用云服务器或者全托管云平台，将大幅的降低计算成本。计算节点仅在任务计算任务下达后灵活增加计算
   节点，计算完成后即回收资源。  

#### 3. 存储分级  
   通过L1与L2分级技术，实现了冷热数据统一管理。L1级数据将存储在SSD等高速存储中，而L2存储用户可以选择采
   用HDFS，也可以采用阿里云OSS等云存储方案。通过组合不同的存储方案进一步的降低存储的成本。保证数据的长
   久留存。并在需要时将L2数据加载致L1存储。  

#### 4. 元数据  
   所有经由本平台的数据，用户通过元数据管理可管理并维护其元数据。元数据功能将作为自动填充以降低用户在通
   过Web IDE进行SQL编辑时的难度。对于非导入平台的数据，用户可单独直接接入元数据进行管理。  

#### 5. 流批一体  
   本平台使用了当前最新的Flink技术，实现了离线计算与实时计算技术栈统一。企业招聘或培训相关人员来说，其
   技术门槛将得到进一步的降低。  

#### 6. 可视化  
   数据报表与数据大屏不在需要专业的前端与技术人员进行单独的定制开发。平台植入了社区可视化解决方案。用户
   仅仅通过拖拽即可实现数据大屏与报表的生成。并且后期数据组件将会不断增加，以满足特定行业的数据可视化需
   求。  

## 四、系统功能  

### 1. 基础功能  

平台已经具备了必要的核心功能模块，具体主要如下：  

1. 用户管理：提供用户的相关配置，支持第三方关联  
2. 角色管理：对权限与菜单进行分配，可根据部门设置角色的数据权限  
3. 菜单管理：实现灵活的菜单设置，可支持外部功能页面  
4. 部门管理：可配置系统组织架构
5. 岗位管理：配置各个部门的职位
6. 字典管理：可维护常用一些固定的数据，如：状态，性别等
7. 审计日志：记录用户操作日志与异常日志
8. 系统通知：用于配置短信、微信、钉钉和WebHook多渠道通知  

### 2. 调度管理  

提供了分布式定时任务执行管理，用户可自行调度自身任务也可以使用平台已经内置功能进行调度执行，其主要的
核心功能如下。  

#### 执行器管理  
管理查看当前可用的执行器机器，用户可以通过手动方式添加执行器，或让执行器自行注册。执行器负责最终需要执行的任务。用户可以通过分组控制不同分组的任务执行调度策略。  
#### 任务管理  
可以查看当前已经配置的任务，任务当前可以支持内置或者脚本，脚本当前可以支持Java、Nodejs、PHP、Bash等，并且均支持在线IDE进行编码。  
#### 日志管理  
便于查看任务执行过程中产生的所有日志，日志采用了`ElasticSearch`集中存储，并不会在计算节点本地产生日志，以保障日志的有效存储。  

### 3. 同步管理  

用于新增同步方式、查看同步状态，数据库、事件总线与云OpenApi均在此管理模块下。  

#### 数据源管理  
用于管理采用数据库、事件订阅和OpenApi接入源的管理，后续实际同步任务需要通过该管理列表进行选择。如果数据源不可用则无法选择，需要通过此管理进行编辑。  

#### 数据同步管理  
用于实际创建同步任务，用户将需要选择具体的数据源，根据不同类型的数据源将需要用户进一步完善需求。其中数据将根据具体数据库是否支持实时同步供用户选择。平台将自动读取数据库元数据，用户仅通过拖拽方式即可决定需要同步的表与字段。  

#### 同步记录管理  
提供定时与非定时列表查看具体的记录，对于定时任务则显示每次同步任务的具体记录情况。实时同步则需要用户选择具体的同步任务，具体的日志讲实时显示，用户可以通过选择时间与标签进行筛选。  

#### 元数据管理  
可以查看已接入数据源的数据库元数据情况以及已导入流数据库中的元数据情况。用户可以自行编辑类型的名称、类型和备注。  

### 4. 分析管理  

用户实际任务计算，用户可以新增任务，查看任务完成情况。并支持采用DAG方式规划任务。  

#### 分析任务管理  
用于用户创建具体的分析任务，默认可采用拖拽的方式选择需要表以及字段和计算公式进行计算，当然用户也可以通过更高级的SQL与jar方式创建具备更高级计算方式的任务。  

#### 分析日志管理  
与同步记录一致，分为批处理与实时计算部分，对于批处理用户可以查看每次处理的日志情况，而实时任务则需要用户选择具体的分析任务，默认实时显示当前的日志信息，通过时间和标签可以进一步的进行检索。  

#### DAG管理  
大多数分析任务通过简单的数据源写入、计算与导出即可完成。实际情况下依然存在复杂的计算情况，那么用户可以通过DAG根据同步的事件触发与分析任务事件所谓条件进行关联。本功能提供可视化的拖拽方式将不同的进行组合。  

### 5. 可视化管理  

用于对数据进行最终的可视化。  

#### 组件管理  
用于组织单一数据结果的视图，如柱状图、饼图和折线图等。组件不能用于直接的显示，需要依托于大屏才可以对外进行访问。用户通过组织多个组件从而实现在不同的大屏中进行复用。  

#### 大屏管理  
用户最终的可视化，通过托管拖拽不同组件进行拼接即可完成大屏。大屏本身支持多种访问方式，可以基于固定的账户密码、开放访问与固定IP等方式。  

#### API管理  
为了便于结果数据的查询，用户可以通过GraphQL查询授权的数据供其他业务系统或第三方机构进行查询访问。  

### 6. 计划中...  


## 五、产品里程

本项目将采用商业版与社区版双版本进行迭代更新，社区版将采用开源源码的方式贡献给社区。而商业版将保留
核心功能与算法，用于商业化运作。  

- [x] 2021年1月20日完成里程碑一 
- [ ] 2021年2月19日完成里程碑二
- [ ] 2021年3月12日完成里程碑三
- [ ] 2021年3月31日开放SAAS版
- [ ] 2021年6月1日发布开源社区版
